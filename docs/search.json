[{"path":"https://benrosche.github.io/ineqx/articles/examples.html","id":"e1","dir":"Articles","previous_headings":"","what":"Tracking changes in within- and between-group inequality over time","title":"Examples","text":"R file example can found . first example, demonstrate ineqx package can used (1) split inequality outcome groups within- -group components (2) track changes within- -group components time. First, load reduced version Current Population Survey (CPS) containing subsample women CPS information motherhood status earnings 1982 2022. dataset, women grouped low, medium, high economic position total annual income household lead belong. cutoff points 20 80 percentiles year. Let us now calculate much inequality within groups: wibe() function takes information outcome (y), grouping structure (group), time variable (time) calculate within-group, -group, total inequality year. returns two dataframes. first dataframe contains number observations, mean variance outcome group year. second dataframe returns resulting within-group, -group, total inequality. Let us first plot mean variance women’s earnings economic position time:  ensuing development within -group inequality time:  Instead variance, ask squared coefficient variation measure inequality (CV2=σ2/μ2CV^{2}=\\sigma^{2}/\\mu^{2}), equals variance divided squared mean. preferable decomposing variation within- -group components group highest income dominate decomposition. can see women low-, medium-, high-income households differ much within group . men, way around (shown). Finally, let us analyze degree inequality changing due changes within-group inequality changes -group inequality changes composition groups  can see inequality women’s earnings increased 35% 1980 2020. can also see group-compositional changes played minor role change. 1980 2008, increases within- -group inequality contributed overall inequality similarly, since 2008, increase within-group inequality noticeably higher.","code":"library(ineqx)  data(\"cps_sample\") dat.wibe <- wibe(y=\"earnweekf\", group = \"SES\", time = \"i.year\", weights = \"earnwtf\", long=T, dat=cps_sample) ggplot(data=          dat.wibe[[1]] %>%           dplyr::filter(variable %in% c(\"mu\", \"sigma2\")),         aes(x=year, y=value, color=factor(SES, labels = c(\"low\", \"medium\", \"high\")))        ) +   facet_wrap(.~ variable, scales = \"free_y\") +   geom_line(size=1.1) +    scale_x_continuous(limits = c(1980, 2020)) +   labs(x=\"\", y=\"Mean and variance of women's earnings\", color=\"Total household income\") +   theme(legend.position = \"bottom\") #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> This warning is displayed once per session. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated. #> Warning: Removed 6 rows containing missing values or values outside the scale range #> (`geom_line()`). ggplot(data=          dat.wibe[[2]] %>%           dplyr::filter(variable %in% c(\"CV2W\", \"CV2B\", \"CV2T\")),         aes(x=year, y=value, color=factor(variable))        ) +   geom_line(size=1.1) +    scale_x_continuous(limits = c(1980, 2020)) +   labs(x=\"\", y=\"CV2\", subtitle = \"Earnings inequality among women in low-, medium-, and high-income households\", color=\"Total household income\") +   theme(legend.position = \"bottom\") #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_line()`). dat.ineqx1 <- ineqx(y=\"earnweekf\", ystat=\"CV2\", group = \"SES\", time = \"i.year\", weights= \"earnwtf\", ref=1983, dat = cps_sample) #> Performing decomposition ... #> Done.  plot(dat.ineqx1, type = \"dT\", yscale = 2) +    geom_hline(yintercept=100, color=\"red\") +    scale_y_continuous(breaks=seq(80,140,5)) +   labs(y=\"Change in CV2 in % of 1982 level\")"},{"path":"https://benrosche.github.io/ineqx/articles/examples.html","id":"e2","dir":"Articles","previous_headings":"","what":"Decomposition of the motherhood effect","title":"Examples","text":"R file example can found . Let us now find changing impact motherhood women’s earnings contributed development. perform causal variance decomposition, specify three additional arguments: treatment variable (treat=\"mother\") post-treatment indicator (post=\"byear\") estimate difference differences (optional) whether change effect (decomp=\"effect\") change post-treatment inequality due treatment (decomp = \"post\") analyzed Since motherhood random, add several important controls substantiate treatment effect estimates: family size, married, single, age, education, race, interaction byear, mother, age (bym_age). order speed estimation, useyear3 time variable, splits years three-year intervals estimate effect value year3. done .year3 (adapted Stata). also specified linear effect c.year, B-splines degree 3 c3.year. Let us first look treatment effect estimates mean variance group time   can see effect motherhood mean earnings hasn’t changed much time. effect motherhood variance, however, decreased time, especially women medium- high-income households. ensuing consequences post-birth inequality can plotted plot(ineqx.obj, type=\"dT\"):  detailed Rosche (202X), ineqx package splits total effect treatment inequality within-group effect: -group effect compositional effect pre-treatment effect (change pre-treatment mean variance affects impact treatment) analysis shows effect motherhood earnings inequality among women decreased 1980 2020. pre-treatment, compositional, -group effect changed dramatically, changes earnings following motherhood brought women’s earnings within income group closer together last decade. results comes quite close results presented Rosche (202X) full CPS dataset thoughtful identification approach used.","code":"dat.ineqx2 <- ineqx(y=\"earnweekf\", ystat=\"CV2\", group = \"SES\", time = \"i.year3\", treat=\"mother\", post=\"byear\", decomp=\"post\", weights= \"earnwtf\", ref=1983, dat = cps_sample) #> Running variance function regression ... #> GAMLSS-RS iteration 1: Global Deviance = 7925802037  #> GAMLSS-RS iteration 2: Global Deviance = 7925800577  #> GAMLSS-RS iteration 3: Global Deviance = 7925800577  #> GAMLSS-RS iteration 4: Global Deviance = 7925800577 #> Computing average marginal effects ... #> Performing decomposition ... #> Done. plot(dat.ineqx2, type = \"dMuP\") plot(dat.ineqx2, type = \"dSigmaP\") plot(dat.ineqx2, type = \"dT\", yscale = 2) + # ggplot object   geom_hline(yintercept=100, color=\"red\") +   labs(y=\"Change in CV2 in % of 1982 level\")"},{"path":"https://benrosche.github.io/ineqx/articles/installation.html","id":"installation-consists-of-two-steps","dir":"Articles","previous_headings":"","what":"Installation consists of two steps:","title":"Installation","text":"Install devtools necessary: install.packages(\"devtools\") Install ineqx: devtools::install_github(\"benrosche/ineqx\")","code":""},{"path":"https://benrosche.github.io/ineqx/articles/installation.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes:","title":"Installation","text":"library still development. Several features yet working. Please contact questions need support implementation. cases, dependencies must installed updated ineqx can installed. get Error: (converted warning) ..., can set Sys.setenv(\"R_REMOTES_NO_ERRORS_FROM_WARNINGS\" = \"true\")","code":""},{"path":"https://benrosche.github.io/ineqx/articles/model.html","id":"descriptive-variance-decomposition","dir":"Articles","previous_headings":"","what":"1 Descriptive variance decomposition","title":"Model structure","text":"Take vector YtY_t individual incomes time tt, vector GtG_t group individuals belong, Gt=jG_t=j categorical variable j=1,…,Jj=1,…,J categories represent mutually exclusive exhaustive groups. variance VV income time tt can expressed sum variance within groups: Vt(Yt)=E(V(Yt|Gt))+V(E(Yt|Gt))=Wt+Bt=∑jπjtσjt2+∑jπjt(μjt−∑jπjtμjt)2\\begin{equation}  \\begin{split}  V_t(Y_t)  &= E(V(Y_t |G_t))+V(E(Y_t |G_t )) \\\\[10pt]  &= W_t + B_t \\\\[10pt] &= \\sum_j\\pi_{jt}\\sigma_{jt}^2+\\sum_j\\pi_{jt}\\big(\\mu_{jt}-\\sum_j\\pi_{jt}\\mu_{jt}\\big)^2 \\end{split} \\tag{1} \\end{equation} πjt\\pi_{jt} proportion individuals group jj time tt, μjt\\mu_{jt} mean income group jj time tt, σjt2\\sigma_{jt}^2 variance around mean group jj time tt. repeated cross-sectional panel data, change variance t0t_0 (baseline) tt (timepoint post baseline) can decomposed sum within-group effect (δW\\delta_W), -group effect (δB\\delta_B), compositional effect (δC\\delta_C). , $$\\begin{equation} V_t-V_{t_0} = \\delta_W^t + \\delta_B^t + \\delta_C^t \\\\[10pt] \\text{} \\\\[10pt] \\begin{split} \\delta_W^t &= \\sum_j \\pi_{jt_0} \\big( \\sigma_{jt}^2 - \\sigma_{jt_0}^2 \\big) \\\\[10pt] \\delta_B^t &= \\sum_j \\pi_{jt_0} \\big( (\\mu_{jt} - \\sum_j\\pi_{jt}\\mu_{jt})^2 - (\\mu_{jt_0} - \\sum_j\\pi_{jt_0}\\mu_{jt_0})^2 \\big) \\\\[10pt] \\delta_C^t &= \\sum_j \\big( \\pi_{jt}-\\pi_{jt_0} \\big) \\big( (\\mu_{jt} - \\sum_j\\pi_{jt}\\mu_{jt})^2 + \\sigma_{jt}^2 \\big) \\end{split} \\tag{2} \\end{equation}$$ -group effect (δBt\\delta_B^t) captures change total variance induced changes mean group. within-group effect (δWt\\delta_W^t) captures change total variance induced changes variance around mean group. Finally, compositional effect (δCt\\delta_C^t) captures change total variance induced changes relative size group. superscript tt δs\\delta\\text{s} indicates change time considered.","code":""},{"path":"https://benrosche.github.io/ineqx/articles/model.html","id":"causal-variance-decomposition","dir":"Articles","previous_headings":"","what":"2 Causal variance decomposition","title":"Model structure","text":"first entertain treatment effect framework single point time. Let D∈{0,1}D\\\\{0,1\\} binary treatment, Y(D)Y(D) potential outcome outcome vector , τ=Y(1)−Y(0)\\tau=Y(1)-Y(0) intra-individual causal effect treatment outcome. group-specific treatment effect mean treated (ATTATT) equals expected value differences potential outcomes group: ATTj=E[Y(1)−Y(0)|G=j,D=1]\\begin{equation}  ATT_j=E[Y(1)-Y(0)|G=j,D=1] \\tag{3} \\end{equation} , group-specific treatment effect variance treated (VTTVTT) equals difference variance potential outcomes group: VTTj=V[Y(1)|G=j,D=1]−V[Y(0)|G=j,D=1]\\begin{equation}  VTT_j=V[Y(1)|G=j,D=1]-V[Y(0)|G=j,D=1] \\tag{4} \\end{equation}","code":""},{"path":"https://benrosche.github.io/ineqx/articles/model.html","id":"a-decomposing-the-effect-of-treatment","dir":"Articles","previous_headings":"2 Causal variance decomposition","what":"2a Decomposing the effect of treatment","title":"Model structure","text":"focus ATTATT rather average treatment effect (ATEATE) interested aggregate consequences treatment, depends actual distribution treatment across groups, E[D|G]E[D|G], therefore ATTATT. Note assume treatment effect variance fully described effect group-specific means variances. Given definitions, effect treatment variance can decomposed within- group component, variance ATTATT equals -group component expected value VTTVTT equals within-group component: $$\\begin{equation} V[Y(1)|D]-V[Y(0)|D] = \\delta_B^D + \\delta_W^D \\\\[10pt] \\text{} \\\\[10pt] \\begin{split} \\delta_B^D &= \\sum_j \\pi_j \\big( (\\mu_j+\\beta_j- \\sum_j\\pi_j(\\mu_j+\\beta_j))^2 - (\\mu_j - \\sum_j\\pi_j\\mu_j)^2 \\big) \\\\[10pt] \\delta_W^D &= \\sum_j \\pi_j \\big( (\\sigma_j+\\lambda_j )^2 - \\sum_j\\pi_j\\sigma_j^2 \\big) \\end{split} \\tag{5} \\end{equation}$$ Note interpretation quantities changes compared equation (2). equation (5), πj\\pi_j proportion individuals group receiving treatment (.e., E[D|G]E[D|G]), μj\\mu_j pre-treatment mean group jj, σj\\sigma_j pre-treatment standard deviation group jj, βj\\beta_j causal effect treatment μj\\mu_j, λj\\lambda_j causal effect treatment σj\\sigma_j. superscript DD δs\\delta\\text{s} indicates change caused treatment (single point time) considered. -group effect δBD\\delta_B^D captures change total variance induced effect treatment mean group. within-group effect δWD\\delta_W^D captures change total variance induced effect treatment variance group.","code":""},{"path":"https://benrosche.github.io/ineqx/articles/model.html","id":"b-decomposing-the-change-in-the-effect-of-treatment","dir":"Articles","previous_headings":"2 Causal variance decomposition","what":"2b Decomposing the change in the effect of treatment","title":"Model structure","text":"treatment effect variance depends treatment effects group-specific means variances distribution treatment across groups level pre-treatment inequality. Therefore, repeated cross-sectional panel data, change total variance t0t_0 (baseline) tt (timepoint post baseline) due change effect treatment can decomposed sum -group effect (δBD,t\\delta_B^{D,t}), within-group effect (δWD,t\\delta_W^{D,t}) compositional effect (δCD,t\\delta_C^{D,t}), pre-treatment effect (δPD,t\\delta_P^{D,t}): $$\\begin{equation} (V[Y_t(1)|D_t]-V[Y_t(0)|D_t]) - (V[Y_{t_0}(1)|D_{t_0}]-V[Y_{t_0}(0)|D_{t_0}]) = \\delta_B^{D,t} + \\delta_W^{D,t} + \\delta_C^{D,t} + \\delta_P^{D,t} \\\\[10pt] \\text{} \\end{equation}$$ δBD,t=B(πt0,μt0+βt)−B(πt0,μt0+β0)=∑jπj,t0((μj,t0+βj,t−∑jπj,t0(μj,t0+βj,t))2−(μj,t0+βj,t0−∑jπj,t0(μj,t0+βj,t0))2)δWD,t=W(πt0,σt0+λt)−W(πt0,σt0+λt0)=∑jπj,t0((σj,t0+λj,t)2−(σj,t0+λj,t0)2)δCD,t=(B(πt,μt0+βt)−B(πt0,μt0+βt))−(B(πt,μt)−B(πt0,μt))+(W(πt,σt0+λt)−W(πt0,σt0+λt))−(W(πt,σt)−W(πt0,σt))≈∑j(πj,t−πj,t0)((μj,t0+βj,t−∑jπj,t(μj,t0+βj,t))2−(μj,t−∑jπj,tμj,t)2+(σj,t0+λj,t)2−σj,t2)δPD,t=B(πt,μt+βt)−B(πt,μt0+βt)+W(πt,σt+λt)−W(πt,σt0+λt)−(B(πt0,μt)−B(πt0,μt0)+W(πt0,σt)−W(πt0,σt0))=∑jπj,t((μj,t+βj,t−∑jπj,t(μj,t+βj,t))2−(μj,t0+βj,t−∑jπj,t(μj,t0+βj,t))2+(σj,t+λj,t)2−(σj,t0+λj,t)2)−∑jπj,t0((μj,t−∑jπj,t0μj,t)2−(μj,t0−∑jπj,t0μj,t0)2+σj,t2−σj,t02)\\begin{equation} \\begin{split}  \\delta_B^{D,t}  &= B(\\pi_{t_0},\\mu_{t_0}+\\beta_t) - B(\\pi_{t_0},\\mu_{t_0}+\\beta_0) \\\\ &= \\sum_j\\pi_{j,t_0} \\left( \\Big(\\mu_{j,t_0} + \\beta_{j,t} - \\sum_j\\pi_{j,t_0}(\\mu_{j,t_0}+\\beta_{j,t}) \\Big)^2 - \\Big(\\mu_{j,t_0} + \\beta_{j,t_0} - \\sum_j\\pi_{j,t_0}(\\mu_{j,t_0}+\\beta_{j,t_0} ) \\Big)^2 \\right) \\\\[10pt]          \\delta_W^{D,t} &= W(\\pi_{t_0},\\sigma_{t_0}+\\lambda_t) - W(\\pi_{t_0},\\sigma_{t_0}+\\lambda_{t_0}) \\\\ &= \\sum_j\\pi_{j,t_0} \\left( \\Big(\\sigma_{j,t_0}+\\lambda_{j,t}\\Big)^2 - \\Big(\\sigma_{j,t_0}+\\lambda_{j,t_0}\\Big)^2 \\right) \\\\[10pt]   \\delta_C^{D,t} &= \\Big( B(\\pi_t,\\mu_{t_0}+\\beta_t) - B(\\pi_{t_0},\\mu_{t_0}+\\beta_t ) \\Big) - \\Big( B(\\pi_t,\\mu_t ) - B(\\pi_{t_0},\\mu_t ) \\Big) + \\Big( W(\\pi_t,\\sigma_{t_0}+\\lambda_t ) - W(\\pi_{t_0},\\sigma_{t_0}+\\lambda_t ) \\Big) - \\Big( W(\\pi_t,\\sigma_t ) - W(\\pi_{t_0},\\sigma_t ) \\Big) \\\\ &\\approx \\sum_j(\\pi_{j,t}-\\pi_{j,t_0} ) \\left( \\Big(\\mu_{j,t_0}+\\beta_{j,t}-\\sum_j\\pi_{j,t}(\\mu_{j,t_0}+\\beta_{j,t})\\Big)^2 - \\Big(\\mu_{j,t}-\\sum_j\\pi_{j,t}\\mu_{j,t}\\Big)^2 + \\Big(\\sigma_{j,t_0}+\\lambda_{j,t}\\Big)^2-\\sigma_{j,t}^2 \\right) \\\\[10pt]  \\delta_P^{D,t} &= B(\\pi_t,\\mu_t+\\beta_t) - B(\\pi_t,\\mu_{t_0}+\\beta_t) + W(\\pi_t,\\sigma_t+\\lambda_t) - W(\\pi_t,\\sigma_{t_0}+\\lambda_t) - \\Big( B(\\pi_{t_0},\\mu_t) - B(\\pi_{t_0},\\mu_{t_0}) + W(\\pi_{t_0},\\sigma_t) - W(\\pi_{t_0},\\sigma_{t_0}) \\Big) \\\\ &= \\sum_j\\pi_{j,t} \\left( \\Big(\\mu_{j,t}+\\beta_{j,t}-\\sum_j\\pi_{j,t}(\\mu_{j,t}+\\beta_{j,t}) \\Big)^2 - \\Big(\\mu_{j,t_0}+\\beta_{j,t}-\\sum_j\\pi_{j,t}(\\mu_{j,t_0}+\\beta_{j,t})\\Big)^2 + \\Big(\\sigma_{j,t}+\\lambda_{j,t} \\Big)^2 - \\Big(\\sigma_{j,t_0}+\\lambda_{j,t}\\Big)^2 \\right) - \\sum_j\\pi_{j,t_0} \\left( \\Big(\\mu_{j,t}-\\sum_j\\pi_{j,t_0}\\mu_{j,t}\\Big)^2 - \\Big(\\mu_{j,t_0}-\\sum_j\\pi_{j,t_0}\\mu_{j,t_0}\\Big)^2 + \\sigma_{j,t}^2-\\sigma_{j,t_0}^2 \\right)  \\end{split} \\tag{6} \\end{equation}","code":""},{"path":"https://benrosche.github.io/ineqx/articles/model.html","id":"c-decomposing-the-change-in-the-post-treatment-variance-due-to-treatment","dir":"Articles","previous_headings":"2 Causal variance decomposition","what":"2c Decomposing the change in the post-treatment variance due to treatment","title":"Model structure","text":"Rather decomposing change effect treatment variance, change post-treatment variance induced change effect treatment, .e., V[Yt(1)|Dt]−V[Y(t0)(1)|D(t0)]V[Y_t(1)|D_t] - V[Y_(t_0 )(1)|D_(t_0 )], can also decomposed. $$\\begin{equation} V[Y_t(1)|D_t] - V[Y_(t_0 )(1)|D_(t_0 )] = \\delta_B^{D,t} + \\delta_W^{D,t} + \\delta_C^{D,t} + \\delta_P^{D,t} \\\\[10pt] \\text{} \\end{equation}$$ δBD,t=∑jπjt0((μjt0+βjt−∑jπjt0(μjt0+βjt))2−(μjt0+βjt0−∑jπjt0(μjt0+βjt0))2)δWD,t=∑jπjt0((σjt0+λjt)2−(σjt0+λjt0)2)=∑jπjt0(λjt2−λjt02+2σjt0(λjt−λjt0))δCD,t=∑jπjt((μjt0+βjt−∑jπjt(μjt0+βjt))2+(σjt0+λjt)2)−∑jπjt0((μjt0+βjt−∑jπjt0(μjt0+βjt))2+(σjt0+λjt)2)≈∑j(πjt−πjt0)((μjt+βjt−∑jπjt(μjt+βjt))2+(σjt0+λjt)2)δPD,t=∑jπjt((μjt+βjt−∑jπjt(μjt+βjt))2−(μjt0+βjt−∑jπjt(μjt0+βjt))2+(σjt+λjt)2−(σjt0+λjt)2)\\begin{equation} \\begin{split}  \\delta_B^{D,t} &=\\sum_j\\pi_{jt_0} \\left( \\Big(\\mu_{jt_0}+\\beta_{jt}-\\sum_j\\pi_{jt_0}(\\mu_{jt_0}+\\beta_{jt})\\Big)^2 - \\Big(\\mu_{jt_0}+\\beta_{jt_0}-\\sum_j\\pi_{jt_0}(\\mu_{jt_0}+\\beta_{jt_0})\\Big)^2 \\right) \\\\[10pt]  \\delta_W^{D,t} &= \\sum_j\\pi_{jt_0}\\left( \\Big(\\sigma_{jt_0}+\\lambda_{jt}\\Big)^2 - \\Big(\\sigma_{jt_0}+\\lambda_{jt_0}\\Big)^2 \\right)  = \\sum_j\\pi_{jt_0} \\Big( \\lambda_{jt}^2-\\lambda_{jt_0}^2 + 2\\sigma_{jt_0}(\\lambda_{jt}-\\lambda_{jt_0}) \\Big) \\\\[10pt]  \\delta_C^{D,t} &= \\sum_j\\pi_{jt}\\left( \\Big(\\mu_{jt_0}+\\beta_{jt}-\\sum_j\\pi_{jt}(\\mu_{jt_0}+\\beta_{jt})\\Big)^2 + \\Big(\\sigma_{jt_0}+\\lambda{jt}\\Big)^2 \\right) - \\sum_j\\pi_{jt_0}\\left( \\Big(\\mu_{jt_0}+\\beta_{jt}-\\sum_j\\pi_{jt_0} (\\mu_{jt_0}+\\beta_{jt})\\Big)^2 + \\Big(\\sigma_{jt_0}+\\lambda_{jt}\\Big)^2 \\right) \\\\ &\\approx \\sum_j(\\pi_{jt}-\\pi_{jt_0}) \\left( \\Big(\\mu_{jt}+\\beta_{jt}-\\sum_j\\pi_{jt}(\\mu_{jt}+\\beta_{jt})\\Big)^2 + \\Big(\\sigma_{jt_0}+\\lambda_{jt} \\Big)^2 \\right) \\\\[10pt]   \\delta_P^{D,t} &=\\sum_j\\pi_{jt} \\left( \\Big(\\mu_{jt}+\\beta_{jt}-\\sum_j\\pi_{jt}(\\mu_{jt}+\\beta_{jt})\\Big)^2 - \\Big(\\mu_{jt_0}+\\beta_{jt}-\\sum_j\\pi_{jt}(\\mu_{jt_0}+\\beta_{jt})\\Big)^2 + \\Big(\\sigma_{jt}+\\lambda_{jt}\\Big)^2 - \\Big(\\sigma_{jt_0}+\\lambda_{jt}\\Big)^2 \\right)  \\end{split} \\tag{7} \\end{equation}","code":""},{"path":"https://benrosche.github.io/ineqx/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Benjamin Rosche. Author, maintainer.","code":""},{"path":"https://benrosche.github.io/ineqx/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rosche B (2026). ineqx: Descriptive causal variance decomposition. R package version 0.1.0, http://benrosche.com/projects/ineqx/.","code":"@Manual{,   title = {ineqx: Descriptive and causal variance decomposition},   author = {Benjamin Rosche},   year = {2026},   note = {R package version 0.1.0},   url = {http://benrosche.com/projects/ineqx/}, }"},{"path":"https://benrosche.github.io/ineqx/index.html","id":"ineqx-descriptive-and-causal-variance-decompositions","dir":"","previous_headings":"","what":"Descriptive and causal variance decomposition","title":"Descriptive and causal variance decomposition","text":"ineqx package allows analyze inequality outcome (e.g., income) splits inequality within groups (e.g., gender). possible decompose inequality single point time decompose changes inequality time. addition descriptive decomposition, ineqx packages allows analyze treatment effects (.e., binary predictors) impact within- -group inequality effect changes time. Existing approaches analyzing inequality often ignore within-group inequality solely analyzing mean differences groups. Approaches allow examining changes within- -group inequality (e.g., Western & Bloome 2009), turn, limited addressing causal questions inequality changing. Rosche (2022) introduces novel approach analyzing treatment variable affects changes within- -group inequality decomposing changes compositional behavioral effects. procedure combines classic variance decomposition Kitagawa-Blinder-Oaxaca (KBO) decomposition approach. Compared KBO, however, method allows analyzing treatment effects mean whole conditional distribution. ineqx packages implements descriptive (Western & Bloome 2009) causal variance decomposition (Rosche 2022). package allows decomposing variance squared coefficient variation (CV2). ineqx package can analyze overall inequality single point time splits within- -group component (e.g., income inequality differ within gender categories?) whether overall change inequality time stems changes within-group inequality, -group inequality, changes composition groups (e.g., ) degree changes inequality due changes effect treatment (.e., binary predictor) within- -group inequality, due changes composition groups, due changes pre-treatment inequality analyze effect treatment inequality (.e. variability outcome) rather just mean ineqx() function looks like:","code":"data(incdat) ineqx(treat=\"X\", post=\"post_X\", y=\"income\", ystat=\"Var\", group=\"female\", time=\"year\", ref=1990, dat)"},{"path":[]},{"path":"https://benrosche.github.io/ineqx/index.html","id":"developers","dir":"","previous_headings":"","what":"Developers","title":"Descriptive and causal variance decomposition","text":"welcome contributions package! Feel free submit changes review contact questions.","code":""},{"path":"https://benrosche.github.io/ineqx/index.html","id":"issues-or-feature-requests","dir":"","previous_headings":"","what":"Issues or Feature Requests","title":"Descriptive and causal variance decomposition","text":"like log issue submit feature request, please create new issue comment existing issue GitHub Issues repo.","code":""},{"path":"https://benrosche.github.io/ineqx/index.html","id":"changelog","dir":"","previous_headings":"","what":"Changelog","title":"Descriptive and causal variance decomposition","text":"See NEWS.md package changelog. information can found ","code":""},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate AME — calcAME","title":"Calculate AME — calcAME","text":"[...]","code":""},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate AME — calcAME","text":"","code":"calcAME(treat, group, time, what, vfr, dat)"},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate AME — calcAME","text":"treat Character string. Treatment variable. group Grouping variable time Time variable \"Mu\" \"Sigma\" vfr gamlss output dat Dataframe","code":""},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate AME — calcAME","text":"List length 2. Element 1 returns AME group time. Elements 2 returns AME time.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate AME — calcAME","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/calcAME.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate AME — calcAME","text":"","code":"data(incdat) vfr <- gamlss() #> Error in terms(formula, specials = .gamlss.sm.list): promise already under evaluation: recursive default argument reference or earlier problems? AME_mu <- calcAME(\"treat\", group=\"SES\", time=\"year\", what=\"mu\", vfr, incdat) #> Error in calcAME(\"treat\", group = \"SES\", time = \"year\", what = \"mu\", vfr,     incdat): treat not in dataset"},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"CPS sample — cps_sample","title":"CPS sample — cps_sample","text":"CPS sample","code":""},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CPS sample — cps_sample","text":"","code":"data(cps_sample)"},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"CPS sample — cps_sample","text":"object class tbl_df (inherits tbl, data.frame) 65562 rows 32 columns.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"CPS sample — cps_sample","text":"CPS Website","code":""},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"CPS sample — cps_sample","text":"Sarah Flood, Miriam King, Renae Rodgers, Steven Ruggles, J. Robert Warren Michael Westberry. Integrated Public Use Microdata Series, Current Population Survey: Version 9.0 [dataset]. Minneapolis, MN: IPUMS, 2021. (https://doi.org/10.18128/D030.V9.0)","code":""},{"path":"https://benrosche.github.io/ineqx/reference/cps_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"CPS sample — cps_sample","text":"","code":"data(cps_sample)"},{"path":"https://benrosche.github.io/ineqx/reference/incdat.html","id":null,"dir":"Reference","previous_headings":"","what":"Income data — incdat","title":"Income data — incdat","text":"...","code":""},{"path":"https://benrosche.github.io/ineqx/reference/incdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Income data — incdat","text":"","code":"data(incdat)"},{"path":"https://benrosche.github.io/ineqx/reference/incdat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Income data — incdat","text":"data frame x rows y variables: Col1 description Col1","code":""},{"path":"https://benrosche.github.io/ineqx/reference/incdat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Income data — incdat","text":"","code":"data(incdat)"},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":null,"dir":"Reference","previous_headings":"","what":"Descriptive and causal variance decompositions — ineqx","title":"Descriptive and causal variance decompositions — ineqx","text":"ineqx package implements Rosche (202X). [...]","code":""},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Descriptive and causal variance decompositions — ineqx","text":"","code":"ineqx(   treat = NULL,   post = NULL,   y,   ystat = \"Var\",   group = NULL,   time = NULL,   weights = NULL,   controls = NULL,   decomp = \"post\",   ref = NULL,   AME_mu = NULL,   AME_sigma = NULL,   dat )"},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Descriptive and causal variance decompositions — ineqx","text":"treat Character string. Treatment variable. Values must 0/1 post Character string. /variable. Values must 0/1 y Character string. Dependent variable. Variable must continuous. ystat Character string. Either \"Var\" (default) \"CV2\". Choose analyze (effect x ) variance squared coefficient variation. group Character string. Variable must categorical. Grouping variable decompose variance within- -group components. time Character string. c.x specify penalized splines, .x specify dummies. Time variable analyze change time. weights Character string. Weight variable. controls Character vector additional control variables. E.g. c(\"c.age\", \".sex\", ...) decomp Character string. Either \"post\" (default) \"effect\". ref Number, vector, list. Counterfactual reference point. See details. AME_mu Dataframe average marginal effects (Mu) AME_sigma Dataframe average marginal effects (Sigma) dat Dataframe","code":""},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Descriptive and causal variance decompositions — ineqx","text":"List eight elements: \"vars\", \"dMu\", \"dSigma\", \"dW\", \"dB\", \"dC\", \"dP\", \"dT\". See details.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Descriptive and causal variance decompositions — ineqx","text":"main function ineqx. [...] Counterfactual reference point (ref) ref can either number, c(number, \"variable name\"), list(n=c(...), mu=c(...), sigma=c(...), beta=c(...), lambda=c(...)). [...] Return ...","code":""},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Descriptive and causal variance decompositions — ineqx","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/ineqx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Descriptive and causal variance decompositions — ineqx","text":"","code":"data(incdat) # Descriptive variance decomposition decomp_descr <- ineqx(y=\"inc\", group=\"group\", time=\"i.year\", ref=1, dat=incdat) #> Performing decomposition ... #> Done. plot(decomp_descr, type=\"dT\")   # Causal variance decomposition decomp_treat <- ineqx(treat=\"x\", post=\"t\", y=\"inc\", group=\"group\", time=\"i.year\", ref=1, dat=incdat) #> Running variance function regression ... #> GAMLSS-RS iteration 1: Global Deviance = 8406.392  #> GAMLSS-RS iteration 2: Global Deviance = 8406.348  #> GAMLSS-RS iteration 3: Global Deviance = 8406.348  #> Computing average marginal effects ... #> Performing decomposition ... #> Done. plot(decomp_treat, type=\"dT\")"},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":null,"dir":"Reference","previous_headings":"","what":"plot function — plot.ineqx","title":"plot function — plot.ineqx","text":"[...]","code":""},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"plot function — plot.ineqx","text":"","code":"# S3 method for class 'ineqx' plot(ineqx.out, type, yscale = 1)"},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"plot function — plot.ineqx","text":"ineqx.ineqx.object ineqx() type Character string. Plot type. Choose : dMuP, dMuT, dSigmaP, dSigmaT, dWP, dWT, dBP, dBT, dPP, dPT, dT, dPA yscale Either 1 2. Choose value y-axis. 1: Effect units ystat. 2: Effect % value reference time (ref)","code":""},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"plot function — plot.ineqx","text":"Returns ggplot2 object","code":""},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"plot function — plot.ineqx","text":"y-axis can scaled two ways: yscale=1 (default): absolute points Var CV2.yscale=2: % value Var CV2 reference time.  (Total Var CV2 type=\"dT\" within-group & -group Var CV2 type=\"dW\" & type=\"dB\", respectively.)","code":""},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"plot function — plot.ineqx","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/plot.ineqx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"plot function — plot.ineqx","text":"","code":"data(incdat) i1 <- ineqx(y=inc, group=SES, time=year, ref=1, dat=incdat) #> Error: object 'inc' not found plot(i1, type=\"dMuSigma2\") #> Error: object 'i1' not found"},{"path":"https://benrosche.github.io/ineqx/reference/runShinyExample.html","id":null,"dir":"Reference","previous_headings":"","what":"runShinyExample — runShinyExample","title":"runShinyExample — runShinyExample","text":"Run view shiny app demonstrating ineqx package.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/runShinyExample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"runShinyExample — runShinyExample","text":"","code":"runShinyExample()"},{"path":"https://benrosche.github.io/ineqx/reference/runShinyExample.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"runShinyExample — runShinyExample","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/runShinyExample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"runShinyExample — runShinyExample","text":"","code":"runShinyExample() #> Error in library(shinydashboard): there is no package called 'shinydashboard'"},{"path":"https://benrosche.github.io/ineqx/reference/theme_ineqx.html","id":null,"dir":"Reference","previous_headings":"","what":"theme_ineqx — theme_ineqx","title":"theme_ineqx — theme_ineqx","text":"ggplot theme used plotting","code":""},{"path":"https://benrosche.github.io/ineqx/reference/theme_ineqx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"theme_ineqx — theme_ineqx","text":"","code":"theme_ineqx"},{"path":"https://benrosche.github.io/ineqx/reference/theme_ineqx.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"theme_ineqx — theme_ineqx","text":"object class theme (inherits gg) length 93.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/theme_ineqx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"theme_ineqx — theme_ineqx","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/theme_ineqx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"theme_ineqx — theme_ineqx","text":"","code":"theme_ineqx() #> Error in theme_ineqx(): could not find function \"theme_ineqx\""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":null,"dir":"Reference","previous_headings":"","what":"Descriptive within/between decomposition — wibe","title":"Descriptive within/between decomposition — wibe","text":"[...]","code":""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Descriptive within/between decomposition — wibe","text":"","code":"wibe(   y = NULL,   group = NULL,   time = NULL,   weights = NULL,   ref = F,   long = F,   dat )"},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Descriptive within/between decomposition — wibe","text":"y Dependent variable group Grouping variable decompose variance within- -group components time Time variable analyze change time weights Probability weights ref Number FALSE. values reported reference specific time? long Logical. output long format? dat Dataframe smoothDat Logical. data smoothed?","code":""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Descriptive within/between decomposition — wibe","text":"List length 2. Element 1 returns decomposition group time. Elements 2 returns decomposition time.","code":""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Descriptive within/between decomposition — wibe","text":"...","code":""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Descriptive within/between decomposition — wibe","text":"Benjamin Rosche <benjamin.rosche@gmail.com>","code":""},{"path":"https://benrosche.github.io/ineqx/reference/wibe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Descriptive within/between decomposition — wibe","text":"","code":"data(incdat) wibe1 <- wibe(y=\"inc\", group=\"SES\", time=\"year\", dat=dat1) #> Error: object 'dat1' not found"},{"path":"https://benrosche.github.io/ineqx/news/index.html","id":"ineqx-010","dir":"Changelog","previous_headings":"","what":"ineqx 0.1.0","title":"ineqx 0.1.0","text":"Added NEWS.md file track changes package.","code":""}]
